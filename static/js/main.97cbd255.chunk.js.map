{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","App.module.css","Api/Api.js","Components/Searchbar/Searchbar.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/Loader/Loader.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","searchQuery","currentPage","perPage","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","placeholder","Component","ImageGalleryItem","photo","onClick","webformatURL","tags","largeImageURL","ImageGalleryItem_image","src","alt","ImageGallery","photos","map","id","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","override","css","Loader","color","loading","size","margin","App","isLoading","error","showModal","onChangeQuery","fetchPhotos","options","Api","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.97cbd255.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1ImJC\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__7TGQW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3KjXQ\",\"Modal\":\"Modal_Modal__3tyFy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__xPpyA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2kdaR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3gyuT\"};","import axios from 'axios';\r\n\r\nconst BASE_URL = \"https://pixabay.com/api\";\r\nconst API_KEY = \"19541580-1bdd8df51d74162905bdf8d23\";\r\n\r\nconst fetchPhotos = ({ searchQuery = '', currentPage = 1, perPage = 12 }) => {\r\n    return axios\r\n        .get(`${BASE_URL}/?key=${API_KEY}&q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${perPage}`)\r\n        .then(response => response.data.hits)\r\n};\r\n\r\nexport default { fetchPhotos };","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\n\r\nclass Searchbar extends Component {\r\n\r\n    state = {\r\n        query: ''\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ query: event.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={styles.SearchForm_button}>\r\n                        <span className={styles.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.SearchForm_input}\r\n                        value={this.state.query}\r\n                        onChange={this.handleChange}\r\n                        type=\"text\"\r\n                        // autocomplete=\"off\"\r\n                        // autofocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n};\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ photo, onClick }) => {\r\n\r\n    const { webformatURL, tags, largeImageURL } = photo;\r\n\r\n    return (\r\n        <li className={styles.ImageGalleryItem}>\r\n            <img\r\n                className={styles.ImageGalleryItem_image}\r\n                src={webformatURL}\r\n                alt={tags}\r\n                onClick={() => onClick(largeImageURL)}\r\n            />\r\n        </li>\r\n    )\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\n\r\nconst ImageGallery = ({ photos, onClick }) => {\r\n\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n            {photos.map(photo =>\r\n                <ImageGalleryItem photo={photo} key={photo.id} onClick={onClick} />\r\n            )}\r\n        </ul>\r\n    )\r\n};\r\n\r\nImageGallery.propTypes = {\r\n    photos: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n        }),\r\n    ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n\r\n    return (\r\n        <button type=\"button\" className={styles.Button} onClick={onClick}>Load more</button>\r\n    )\r\n};\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import { Component } from \"react\";\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleKeyDown);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    };\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.code === 'Escape') {\r\n            this.props.closeModal()\r\n        };\r\n    };\r\n\r\n    handleBackdropClick = (event) => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.closeModal()\r\n        };\r\n    };\r\n\r\n    render() {\r\n\r\n        return createPortal(\r\n\r\n            <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n                <div className={styles.Modal}>\r\n                    <img src={this.props.largeImageURL} alt=\"\" />\r\n                </div>\r\n            </div>,\r\n            modalRoot\r\n        );\r\n    };\r\n};\r\n\r\nModal.propTypes = {\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport { css } from \"@emotion/core\";\r\nimport SyncLoader from \"react-spinners/SyncLoader\";\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <SyncLoader\r\n            color=\"#3f51b5\"\r\n            loading=\"true\"\r\n            css={override}\r\n            size={20}\r\n            margin=\"10px\"\r\n        />\r\n    );\r\n};\r\n\r\nexport default Loader;","import { Component } from 'react';\nimport Api from './Api/Api';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Button from './Components/Button/Button';\nimport Modal from './Components/Modal/Modal';\nimport Loader from './Components/Loader/Loader';\nimport styles from './App.module.css';\n\n\nclass App extends Component {\n\n  state = {\n    photos: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    largeImageURL: '',\n    showModal: false\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPhotos();\n    }\n  };\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      photos: [],\n      error: null\n    });\n  };\n\n  fetchPhotos = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      searchQuery,\n      currentPage\n    };\n\n    this.setState({ isLoading: true });\n\n    Api.fetchPhotos(options)\n      .then(photos => {\n        this.setState(prevState => ({\n          photos: [...prevState.photos, ...photos],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n\n      });\n  };\n\n  toggleModal = photo => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeImageURL: photo\n    }));\n  };\n\n  render() {\n\n    const { photos, isLoading, error, largeImageURL, showModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n        {error && <h2>Something went wrong. Please try again later.</h2>}\n\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {isLoading && <Loader />}\n\n        <ImageGallery photos={photos} onClick={this.toggleModal} />\n\n        {photos.length > 0 && <Button onClick={this.fetchPhotos} />}\n\n        {showModal && (<Modal largeImageURL={largeImageURL} closeModal={this.toggleModal} />)}\n\n      </div>\n    )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3Xnfn\",\"SearchForm\":\"Searchbar_SearchForm__14xXV\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2BpqD\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__w1Umx\",\"SearchForm_input\":\"Searchbar_SearchForm_input__21QS5\"};"],"sourceRoot":""}